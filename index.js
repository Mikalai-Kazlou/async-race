(()=>{"use strict";var t={344:(t,e,n)=>{n.r(e)},343:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(e,n);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,a)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return a(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(n(573)),c=s(n(716)),u=s(n(698)),d=i(n(527));e.default=class{constructor(){this.gr=new o.default,this.st=new c.default,this.vw=new u.default}start(){this.generateGaragePage()}generateGaragePage(){this.vw.generateGaragePage(),this.vw.uiButtonGarage.addEventListener("click",(()=>this.generateGaragePage())),this.vw.uiButtonWinners.addEventListener("click",(()=>this.generateWinnersPage())),this.vw.uiButtonCreateCar.addEventListener("click",(()=>this.createCar())),this.vw.uiButtonUpdateCar.addEventListener("click",(()=>this.updateCar())),this.vw.uiButtonRace.addEventListener("click",(()=>this.race())),this.vw.uiButtonReset.addEventListener("click",(()=>this.reset())),this.vw.uiButtonGenerateCars.addEventListener("click",(()=>this.generateCars())),this.vw.uiCarsContainer.addEventListener("click",(t=>this.selectCar(t))),this.vw.uiCarsContainer.addEventListener("click",(t=>this.removeCar(t))),this.vw.uiCarsContainer.addEventListener("click",(t=>this.startCar(t))),this.vw.uiCarsContainer.addEventListener("click",(t=>this.stopCar(t))),this.vw.uiButtonPrevPage.addEventListener("click",(()=>this.goToPrevPage(d.Pages.Garage))),this.vw.uiButtonNextPage.addEventListener("click",(()=>this.goToNextPage(d.Pages.Garage))),this.getCars(this.gr.pagination)}generateWinnersPage(){this.vw.generateWinnersPage(),this.vw.uiButtonGarage.addEventListener("click",(()=>this.generateGaragePage())),this.vw.uiButtonWinners.addEventListener("click",(()=>this.generateWinnersPage())),this.vw.uiWinnersTableHeader.addEventListener("click",(t=>this.sortWinners(t))),this.vw.uiButtonPrevPage.addEventListener("click",(()=>this.goToPrevPage(d.Pages.Winners))),this.vw.uiButtonNextPage.addEventListener("click",(()=>this.goToNextPage(d.Pages.Winners))),this.getWinners(this.st.pagination)}generateCars(){const t=[];for(let e=0;e<100;e+=1){const e=this.gr.getRandomCarParameters();t.push(this.gr.create(e))}Promise.all(t).then((()=>this.getCars(this.gr.pagination))).catch((()=>!0))}getCars(t){this.gr.getList(t).then((t=>{this.vw.drawCars(t),this.vw.refreshPagination(d.Pages.Garage,this.gr.pagination)})).catch((()=>!0))}createCar(){const t=this.vw.getCarParameters(d.CarActions.Create);this.gr.create(t).then((()=>this.getCars(this.gr.pagination))).catch((()=>!0))}selectCar(t){const e=t.target;if(!this.vw.isTargetCarButton(e,d.CarActions.Select))return;const n=this.vw.getCarIdByTarget(e);n&&this.vw.selectCar(n)}updateCar(){const t=this.vw.getCarParameters(d.CarActions.Update),e=this.vw.getSelectedCarId();e&&this.gr.update(e,t).then((t=>this.vw.refreshCar(t))).catch((()=>!0))}removeCar(t){const e=t.target;if(!this.vw.isTargetCarButton(e,d.CarActions.Remove))return;const n=this.vw.getCarIdByTarget(e);n&&this.gr.remove(n).then((()=>{this.getCars(this.gr.pagination),this.removeWinner(n)})).catch((()=>!0))}startCar(t){const e=t.target;if(!this.vw.isTargetCarButton(e,d.CarActions.Start))return;const n=this.vw.getCarIdByTarget(e);n&&this.gr.start(n).then((t=>{this.vw.driveCar(n,t),this.gr.drive(n).catch((()=>{this.vw.brokeCar(n)}))})).catch((()=>!0))}stopCar(t){const e=t.target;if(!this.vw.isTargetCarButton(e,d.CarActions.Stop))return;const n=this.vw.getCarIdByTarget(e);n&&this.gr.stop(n).then((()=>this.vw.stopCar(n))).catch((()=>!0))}race(){let t=!1;this.vw.changeStateCarActionsAfterStartRace();const e=this.gr.getVisibleCars();let n=0;e.forEach((r=>{this.gr.start(r.id).then((a=>{this.vw.driveCar(r.id,a),this.gr.drive(r.id).then((()=>{if(!t){t=!0;const e=this.gr.getTrackTime(a);this.updateWinner(r,a),this.vw.showWinnerMessage(r,e),this.vw.changeStateCarActionsAfterWin()}})).catch((()=>{this.vw.brokeCar(r.id)})).finally((()=>{n+=1,e.length===n&&this.vw.changeStateCarActionsAfterWin()}))})).catch((()=>!0))}))}reset(){const t=this.gr.getVisibleCars();let e=0;t.forEach((n=>{this.gr.stop(n.id).then((()=>this.vw.stopCar(n.id))).catch((()=>!0)).finally((()=>{e+=1,t.length===e&&this.vw.changeStateCarActionsAfterReset()}))}))}getWinners(t){this.st.getList(t).then((t=>{this.gr.getAll().then((e=>{this.vw.drawWinners(t,e),this.vw.refreshPagination(d.Pages.Winners,this.st.pagination)})).catch((()=>!0))})).catch((()=>!0))}updateWinner(t,e){const n=this.gr.getTrackTime(e);this.st.get(t.id).then((e=>{const r={wins:e.wins+1,time:Math.min(e.time,n)};this.st.update(t.id,r)})).catch((()=>{const e={id:t.id,wins:1,time:n};this.st.create(e)}))}removeWinner(t){this.st.get(t).then((()=>this.st.remove(t))).catch((()=>!0))}sortWinners(t){const e=t.target;if(!this.vw.isSortableColumn(e))return;const n=this.vw.getWinnersTableColumnByTarget(e);if(n){const{pagination:t}=this.st;if(n===t.sorting.sort){const e=new Map;e.set(d.SortingOrder.Asc,d.SortingOrder.Desc),e.set(d.SortingOrder.Desc,d.SortingOrder.Asc),t.sorting.order=e.get(t.sorting.order)}else t.sorting.sort=n,t.sorting.order=d.SortingOrder.Asc;this.vw.setSortingSign(t.sorting),this.getWinners(t)}}goToPrevPage(t){let e;switch(t){case d.Pages.Garage:e=this.gr.pagination,e.pages.current>1&&(e.pages.current-=1,this.getCars(e));break;case d.Pages.Winners:e=this.st.pagination,e.pages.current>1&&(e.pages.current-=1,this.getWinners(e))}}goToNextPage(t){let e;switch(t){case d.Pages.Garage:e=this.gr.pagination,e.pages.current<e.pages.total&&(e.pages.current+=1,this.getCars(e));break;case d.Pages.Winners:e=this.st.pagination,e.pages.current<e.pages.total&&(e.pages.current+=1,this.getWinners(e))}}}},573:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function o(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}c((r=r.apply(t,e||[])).next())}))},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=a(n(72)),s=a(n(128)),o=a(n(407));class c extends i.default{constructor(){super(),this.visibleCars=[],this.pagination.items.limit=7}getAll(){return r(this,void 0,void 0,(function*(){return this.api(`${this.baseURL}/garage`)}))}getList(t){return r(this,void 0,void 0,(function*(){const e=Math.min(t.pages.current,this.pagination.pages.total),n=yield fetch(`${this.baseURL}/garage/?_page=${e}&_limit=${t.items.limit}`);if(!n.ok)throw new Error(n.statusText);return this.pagination.items.limit=t.items.limit,this.pagination.items.total=Number(n.headers.get("X-Total-Count")||0),this.pagination.pages.current=e,this.recalculateTotalPages(),this.visibleCars=yield n.json(),this.visibleCars}))}create(t){return r(this,void 0,void 0,(function*(){const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},n=this.api(`${this.baseURL}/garage`,e);return n.then((()=>{this.pagination.items.total+=1,this.recalculateTotalPages()})),n}))}update(t,e){return r(this,void 0,void 0,(function*(){const n={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return this.api(`${this.baseURL}/garage/${t}`,n)}))}remove(t){return r(this,void 0,void 0,(function*(){const e=this.api(`${this.baseURL}/garage/${t}`,{method:"DELETE"});return e.then((()=>{this.pagination.items.total-=1,this.recalculateTotalPages()})),e}))}start(t){return r(this,void 0,void 0,(function*(){return this.api(`${this.baseURL}/engine/?id=${t}&status=started`,{method:"PATCH"})}))}stop(t){return r(this,void 0,void 0,(function*(){return this.api(`${this.baseURL}/engine/?id=${t}&status=stopped`,{method:"PATCH"})}))}drive(t){return r(this,void 0,void 0,(function*(){return this.api(`${this.baseURL}/engine/?id=${t}&status=drive`,{method:"PATCH"})}))}getRandomCarParameters(){const t=o.default[s.default.getRandomNumber(o.default.length)],{brand:e}=t;return{name:`${e} ${t.models[s.default.getRandomNumber(t.models.length)]}`,color:s.default.getRandomColor()}}getTrackTime(t){return+(t.distance/t.velocity/1e3).toFixed(2)}getVisibleCars(){return this.visibleCars}}e.default=c},72:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(e,n);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,a)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return a(e,t),e},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function o(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(527));e.default=class{constructor(){this.baseURL=o.Constants.BaseURL,this.iPagination={pages:{current:1,total:1},items:{limit:10,total:0},sorting:{sort:"",order:o.SortingOrder.Asc}}}get pagination(){return this.iPagination}recalculateTotalPages(){const t=Math.ceil(this.iPagination.items.total/this.iPagination.items.limit);this.iPagination.pages.total=t||1}api(t,e={}){return s(this,void 0,void 0,(function*(){return fetch(t,e).then((t=>{if(!t.ok)throw new Error(t.statusText);return t.json()}))}))}}},716:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(e,n);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,a)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return a(e,t),e},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function o(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const c=o(n(72)),u=i(n(527));class d extends c.default{constructor(){super(),this.pagination.sorting.sort=u.SortingColumns.Time}getList(t){return s(this,void 0,void 0,(function*(){const e=Math.min(t.pages.current,this.pagination.pages.total),n=`${this.baseURL}/winners/?_page=${e}&_limit=${t.items.limit}&_sort=${t.sorting.sort}&_order=${t.sorting.order}`,r=yield fetch(n);if(!r.ok)throw new Error(r.statusText);return this.pagination.items.limit=t.items.limit,this.pagination.items.total=Number(r.headers.get("X-Total-Count")||0),this.pagination.sorting=t.sorting,this.pagination.pages.current=e,this.recalculateTotalPages(),yield r.json()}))}get(t){return s(this,void 0,void 0,(function*(){return this.api(`${this.baseURL}/winners/${t}`)}))}create(t){return s(this,void 0,void 0,(function*(){const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},n=this.api(`${this.baseURL}/winners`,e);return n.then((()=>{this.pagination.items.total+=1,this.recalculateTotalPages()})),n}))}update(t,e){return s(this,void 0,void 0,(function*(){const n={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return this.api(`${this.baseURL}/winners/${t}`,n)}))}remove(t){return s(this,void 0,void 0,(function*(){const e=this.api(`${this.baseURL}/winners/${t}`,{method:"DELETE"});return e.then((()=>{this.pagination.items.total-=1,this.recalculateTotalPages()})),e}))}}e.default=d},128:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(527);e.default=class{static getRandomNumber(t){return Math.floor(Math.random()*t)}static getRandomColor(){return`#${this.getRandomNumber(r.Constants.NumberOfColors).toString(16).padStart(6,"0")}`}static colorRGBToHex(t){return`#${t.slice(4,-1).split(", ").reduce(((t,e)=>t+(t=>Number(t).toString(16).padStart(2,"0"))(e)),"")}`}}},698:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(e,n);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,a)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return a(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(n(128)),c=i(n(527));e.default=class{get uiButtonGarage(){return document.querySelector(".button.to-garage")}get uiButtonWinners(){return document.querySelector(".button.to-winners")}get uiButtonCreateCar(){return document.querySelector(".button.create")}get uiButtonUpdateCar(){return document.querySelector(".button.update")}get uiButtonRace(){return document.querySelector(".button.race")}get uiButtonReset(){return document.querySelector(".button.reset")}get uiButtonGenerateCars(){return document.querySelector(".button.generate")}get uiButtonPrevPage(){return document.querySelector(".button.page-prev")}get uiButtonNextPage(){return document.querySelector(".button.page-next")}get uiCarsContainer(){return document.querySelector(".cars")}get uiWinnersTableHeader(){return document.querySelector(".winners-header")}get uiWinnersContainer(){return document.querySelector(".winners-body")}drawHeader(){const t=document.createElement("header");return t.classList.add("header"),t.innerHTML='\n      <h1 class="title">Async-race</h1>\n      <div class="page-buttons">\n        <button class="button to-garage">Garage</button>\n        <button class="button to-winners">Winners</button>\n      </div>',t}drawCarsControls(){const t=document.createElement("div");return t.classList.add("car-controls"),t.innerHTML='\n      <div class="controls-line create-car">\n        <input class="input car-name create" type="text">\n        <input class="input car-color create" type="color">\n        <button class="button create">Create</button>\n      </div>\n      <div class="controls-line update-car">\n        <input class="input car-name update" type="text">\n        <input class="input car-color update" type="color">\n        <button class="button update" disabled>Update</button>\n      </div>\n      <div class="controls-line mass-actions">\n        <button class="button race">Race</button>\n        <button class="button reset" disabled>Reset</button>\n        <button class="button generate">Generate cars</button>\n      </div>',t}drawPageHeader(){const t=document.createElement("div");return t.classList.add("page-header"),t.innerHTML='\n      <div class="page-title"></div>\n      <div class="page">\n        <span class="page-description">Page</span>\n        <button class="button page-prev">&lt</button>\n        <span class="page-number"></span>\n        <button class="button page-next">&gt</button>\n      </div>',t}drawGarageSection(){const t=document.createElement("section");t.classList.add("section","garage");const e=this.drawPageHeader();t.append(e);const n=document.createElement("div");return t.append(n),n.outerHTML='<div class="cars"></div>',t}generateGaragePage(){const t=this.drawHeader(),e=document.createElement("main"),n=this.drawCarsControls();e.append(n);const r=this.drawGarageSection();e.append(r),document.body.innerHTML="",document.body.append(t),document.body.append(e)}drawWinnersSection(){const t=document.createElement("section");t.classList.add("section","winners");const e=this.drawPageHeader();t.append(e);const n=this.drawWinnersTable();return t.append(n),t}drawWinnersTable(){const t=document.createElement("table");return t.classList.add("winners-table"),t.innerHTML=`\n      <thead class="winners-header">\n        <tr>\n          <th class="sortable" data-id="${c.SortingColumns.Id}">\n            Number <span class="sorting-sign"></span>\n          </th>\n          <th>Car</th>\n          <th>Name</th>\n          <th class="sortable" data-id="${c.SortingColumns.Wins}">\n            Wins <span class="sorting-sign"></span>\n          </th>\n          <th class="sortable" data-id="${c.SortingColumns.Time}">\n            Best time (seconds) <span class="sorting-sign"></span>\n          </th>\n        </tr>\n      </thead>\n      <tbody class="winners-body">\n      </tbody>`,t}generateWinnersPage(){const t=this.drawHeader(),e=document.createElement("main"),n=this.drawWinnersSection();e.append(n),document.body.innerHTML="",document.body.append(t),document.body.append(e)}getCarParameters(t){const e=document.querySelector(`.${t}.car-name`),n=document.querySelector(`.${t}.car-color`);return{name:e.value,color:n.value}}drawCars(t){this.uiCarsContainer.innerHTML="",t.forEach((t=>this.drawCar(t)))}drawCar(t){const e=document.querySelector(".cars"),n=document.createElement("div");e.append(n),n.outerHTML=`\n      <div class="car-area" data-id="${t.id}">\n        <div class="car-actions">\n          <button class="button start">Start</button>\n          <button class="button stop" disabled>Stop</button>\n          <button class="button select">Select</button>\n          <button class="button remove">Remove</button>\n          <span class="car-description">${t.name}</span>\n        </div>\n        <div class="car-track">\n          <div class="car" style="background-color: ${t.color};">\n            <span class="car-id">${t.id}</span>\n            <img class="car-icon" src="./images/car.png" alt="Car">\n          </div>\n          <img class="finish" src="./images/finish.png" alt="Finish">\n        </div>\n      </div>`}getCarAreaById(t){return document.querySelector(`.car-area[data-id="${t}"]`)}selectCar(t){document.querySelectorAll(".car-area").forEach((t=>t.classList.remove("selected")));const e=this.getCarAreaById(t);e.classList.add("selected");const n=e.querySelector(".car-description");n.textContent&&(document.querySelector(".update.car-name").value=n.textContent);const r=e.querySelector(".car");document.querySelector(".update.car-color").value=o.default.colorRGBToHex(r.style.backgroundColor),this.uiButtonUpdateCar.removeAttribute("disabled")}refreshCar(t){const e=this.getCarAreaById(t.id);e.querySelector(".car-description").textContent=t.name;const n=e.querySelector(".car");n.style.backgroundColor=t.color,n.classList.remove("selected"),this.uiButtonUpdateCar.setAttribute("disabled",""),document.querySelector(".input.update").value=""}removeCar(t){this.getCarAreaById(t).remove()}setCarTranslateStyles(t,e,n){t.style.transition=`transform ${e}ms linear`,t.style.transform=`translateX(${n}px)`}driveCar(t,e){const n=this.getCarAreaById(t),r=n.querySelector(".car"),a=Math.round(e.distance/e.velocity),i=n.clientWidth-r.offsetWidth;this.setCarTranslateStyles(r,a,i),this.changeStateCarActionsAfterStart(t)}stopCar(t){const e=this.getCarAreaById(t).querySelector(".car");this.setCarTranslateStyles(e,0,0),this.changeStateCarActionsAfterStop(t)}brokeCar(t){const e=this.getCarAreaById(t).querySelector(".car"),n=e.getBoundingClientRect().left-e.offsetLeft;this.setCarTranslateStyles(e,0,n)}getCarOwnControls(t){return{uiButtonStart:t.querySelector(".start"),uiButtonStop:t.querySelector(".stop"),uiButtonSelect:t.querySelector(".select"),uiButtonRemove:t.querySelector(".remove")}}changeStateCarActionsAfterStart(t){const e=this.getCarAreaById(t),n=this.getCarOwnControls(e);n.uiButtonStop.removeAttribute("disabled"),[n.uiButtonStart,n.uiButtonSelect,n.uiButtonRemove].forEach((t=>t.setAttribute("disabled","")))}changeStateCarActionsAfterStop(t){const e=this.getCarAreaById(t),n=this.getCarOwnControls(e);n.uiButtonStop.setAttribute("disabled",""),[n.uiButtonStart,n.uiButtonSelect,n.uiButtonRemove].forEach((t=>t.removeAttribute("disabled")))}changeStateCarActionsAfterStartRace(){[this.uiButtonGarage,this.uiButtonWinners,this.uiButtonCreateCar,this.uiButtonRace,this.uiButtonGenerateCars,this.uiButtonPrevPage,this.uiButtonNextPage].forEach((t=>t.setAttribute("disabled","")))}changeStateCarActionsAfterWin(){this.uiButtonReset.removeAttribute("disabled")}changeStateCarActionsAfterReset(){this.uiButtonReset.setAttribute("disabled",""),[this.uiButtonGarage,this.uiButtonWinners,this.uiButtonCreateCar,this.uiButtonRace,this.uiButtonGenerateCars,this.uiButtonPrevPage,this.uiButtonNextPage].forEach((t=>t.removeAttribute("disabled")))}isTargetCarButton(t,e){return t.classList.contains(e)}isSortableColumn(t){return t.classList.contains("sortable")}getCarIdByTarget(t){const e=t.closest(".car-area");return Number(e.dataset.id||0)}getSelectedCarId(){const t=document.querySelector(".car-area.selected");return Number((null==t?void 0:t.dataset.id)||0)}drawWinners(t,e){this.uiWinnersContainer.innerHTML="",t.forEach((t=>this.drawWinner(t,e)))}drawWinner(t,e){const n=document.querySelector(".winners-body"),r=e.find((e=>e.id===t.id)),a=document.createElement("tr");a.innerHTML=`\n      <td>${t.id}</td>\n      <td>\n        <div class="car" style="background-color: ${null==r?void 0:r.color};">\n          <img class="car-icon" src="./images/car.png" alt="Car">\n        </div>\n      </td>\n      <td>${null==r?void 0:r.name}</td>\n      <td>${t.wins}</td>\n      <td>${t.time.toFixed(2)}</td>`,n.append(a)}setSortingSign(t){document.querySelectorAll(".sorting-sign").forEach((t=>{t.textContent=""}));const e=document.querySelector(`.sortable[data-id="${t.sort}"]`).querySelector(".sorting-sign");switch(t.order){case c.SortingOrder.Asc:e.textContent="▲";break;case c.SortingOrder.Desc:e.textContent="▼"}}showWinnerMessage(t,e){const n=document.createElement("div");n.classList.add("win-message"),n.innerHTML=`<span class="win-text">Car #${t.id} - ${t.name} win (${e.toFixed(2)}s)!</span>`,document.body.append(n),setTimeout((()=>n.remove()),3e3)}getWinnersTableColumnByTarget(t){return t.dataset.id||""}refreshPagination(t,e){document.querySelector(".page-title").textContent=`${t} (${e.items.total})`,document.querySelector(".page-number").textContent=`${e.pages.current}/${e.pages.total}`,e.sorting.sort&&this.setSortingSign(e.sorting)}}},607:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(344),(new(r(n(343)).default)).start()},407:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=[{brand:"Ford",models:["EcoSport","Kuga","Fiesta","Ranger","Mondeo"]},{brand:"Audi",models:["A3","A4","A5","A6","Q7","Q8"]},{brand:"Volkswagen",models:["Polo","Jetta","Passat","Golf"]},{brand:"Mitsubishi",models:["Outlander","ASX","Pajero Sport","L200"]},{brand:"Tesla",models:["Model 3","Model S","Model X"]},{brand:"Mazda",models:["2","3","5","6","CX-5","CX-9"]},{brand:"Ferrari",models:["Mondial","Roma","SF90","575M"]},{brand:"Lexus",models:["RX","LM","HS","SC","UX"]},{brand:"Mercedes-Benz",models:["GLE","S-Class","Viano","Metris","GLC Coupe"]},{brand:"Subaru",models:["Outback","Pleo","Tribeca","Legacy","Forester"]}]},527:(t,e)=>{var n,r,a,i,s;Object.defineProperty(e,"__esModule",{value:!0}),e.CarActions=e.SortingOrder=e.SortingColumns=e.Pages=e.Constants=void 0,(s=e.Constants||(e.Constants={})).BaseURL="http://127.0.0.1:3000",s[s.NumberOfColors=16777215]="NumberOfColors",(i=e.Pages||(e.Pages={})).Garage="Garage",i.Winners="Winners",(a=e.SortingColumns||(e.SortingColumns={})).Id="id",a.Wins="wins",a.Time="time",(r=e.SortingOrder||(e.SortingOrder={})).Asc="ASC",r.Desc="DESC",(n=e.CarActions||(e.CarActions={})).Create="create",n.Update="update",n.Remove="remove",n.Select="select",n.Start="start",n.Stop="stop"}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(607)})();